# 2025-11-25 Development Log

## 16:15 - Add Plausible analytics, fix deploy script, expand committee meetings

**Commit:** Add Plausible analytics, fix deploy.sh env backup, include committee meetings

**Summary:**
- Fixed deploy.sh to backup and restore .env file during gh-pages deployment (prevents losing API key)
- Added Plausible analytics script injection to all site templates
- Updated site_config.json with new Plausible analytics snippet
- Added analytics support to council file page generator
- Fetched and parsed new committee meeting agendas (Housing and Homelessness, City Council Dec 2-3)
- Regenerated site with 21 meetings and 338 council files

**Files changed:**
- `deploy.sh` - Added .env backup/restore and sensitive file cleanup
- `generate_councilfile_pages.py` - Added analytics script injection
- `generate_site.py` - Updated to use analytics_script from config
- `site_config.json` - Added Plausible analytics script
- `templates/index.html` - Updated analytics injection
- `templates/meeting.html` - Updated analytics injection
- `site/index.html` - Regenerated with committee filter tabs and new meetings
- `site/meetings/*.html` - Regenerated 21 meeting pages with analytics
- `data/agendas/agenda_17506.json` - New City Council meeting (Dec 2)
- `data/agendas/agenda_17559.json` - New City Council meeting (Dec 3)
- `data/agendas/agenda_17591.json` - New Housing and Homelessness Committee meeting (Dec 3)
