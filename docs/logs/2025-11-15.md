# 2025-11-15

## Add automatic cleanup to pipeline

**Commit:** 25f0c9b

**Files Changed:**
- run_pipeline.py

**Changes:**
- Added `cleanup_generated_files()` function to automatically delete temporary files after pipeline completes
- Cleans up meeting transcripts, summaries, Reddit comments, agenda HTML files, VTT files, and recent_meetings.json
- Since summaries are posted to Reddit, local copies are no longer needed
- Keeps repository clean and prevents file clutter

## Restructure documentation and fix agenda access

**Commit:** (pending)

**Files Changed:**
- .gitignore (ignore docs/gitignored/)
- .claude/claude_prompt.md (new)
- docs/TECHNICAL_NOTES.md (new)
- README.md (simplified)
- AGENDA_ACCESS_FINDINGS.md (removed, merged into TECHNICAL_NOTES.md)

**Changes:**
- **Fixed agenda access issue:** PrimeGov API download URLs return 404 errors
- **Solution:** Use portal page URLs with meetingTemplateId instead of document download URLs
- **Working pattern:** `https://lacity.primegov.com/Portal/Meeting?meetingTemplateId={templateId}`
- Validated agenda parsing structure: HTML contains `data-itemid` attributes for all agenda items
- **Documentation restructure:** Created sustainable session-to-session workflow
  - `.claude/claude_prompt.md`: Auto-loads every session, instructs Claude to read TECHNICAL_NOTES and start immediately
  - `docs/TECHNICAL_NOTES.md`: Current focus (5-10 lines, replace each session) + append-only reference sections
  - `README.md`: Simplified to external-facing quickstart only
- Prepared for Week 1 MVP: Build agenda parser (HTML â†’ JSON)

